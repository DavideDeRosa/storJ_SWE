<nav class="navbar">
    <div class="logo">
        <div class="arrow">
            <!-- Icona freccia indietro per utenti autenticati -->
            <button mat-button *ngIf="isAuthenticated() && currentUrl != '/storJPage'" (click)="goBack(currentUrl)">
                <mat-icon>arrow_back</mat-icon>
            </button>
        </div>
    </div>

    <div class="login">
        <!-- Mostra questi pulsanti solo se l'utente NON è autenticato -->
        <button mat-button routerLink="/login" *ngIf="!isAuthenticated()">Sign In</button>
        <button mat-button routerLink="/register" *ngIf="!isAuthenticated()">Sign Up</button>

        <!-- Mostra il bottone "Paga" solo se showPaymentButton è true -->
        <button mat-button routerLink="/payment" *ngIf="showPaymentButton">Paga</button>

        <!-- Mostra il bottone "Crea Scenario" solo se l'utente è su "/createStory"-->
        <button mat-button *ngIf="currentUrl === '/createStory' && isAuthenticated()" (click)="saveStory()">Salva
            Storia</button>
        <button mat-button routerLink="/formScenario" *ngIf="currentUrl === '/createStory' && isAuthenticated()">Crea
            Scenario</button>
        <button mat-button routerLink="/storyObjects"
            *ngIf="currentUrl === '/createStory' && isAuthenticated()">Oggetti</button>

        <!-- Mostra il bottone "Crea oggetto" solo se l'utente è su "/storyObjects"-->
        <button mat-button routerLink="/formStoryObject"
            *ngIf="currentUrl === '/storyObjects' && isAuthenticated()">Crea Oggeto</button>

        <!-- Mostra questo pulsante solo se l'utente è autenticato e ha effettuato il pagamento  -->
        <button mat-button routerLink="/handlerPlaypage"
            *ngIf="currentUrl === '/storJPage' &&  isAuthenticated() && !showPaymentButton">Gioca</button>

        <button mat-button routerLink="/homeStories"
            *ngIf="currentUrl === '/storJPage' && isAuthenticated()">Crea</button>

        <!-- Mostra questo pulsante solo se l'utente si trova in homestories-->
        <button mat-button routerLink="/formStory" *ngIf="currentUrl === '/homeStories' && isAuthenticated()">Crea storia</button>

        <!-- Mostra questo pulsante solo se l'utente si trova in formMultipleChoices-->
        <button mat-button routerLink="/formMultipleChoice"
            *ngIf="currentUrl === '/multiplechoice' && isAuthenticated()">Crea storia</button>

        <!-- Mostra questo pulsante solo se l'utente si trova in formSingleChoice-->
        <button mat-button routerLink="/formSingleChoice"
            *ngIf="currentUrl === '/singlechoice' && isAuthenticated()">Crea scelta</button>
            
        <button mat-button (click)="logout()" *ngIf="isAuthenticated()">Logout</button>
    </div>
</nav>